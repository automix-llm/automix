<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="AutoMix: AutoMix: Automatically Mixing Language Models">
  <meta name="keywords" content="reasoning, nlp, LLMs, self-verification, meta-verification, GOFAI">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AutoMix: AutoMix: Automatically Mixing Language Models</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script> -->
  <script>
    window.dataLayer = window.dataLayer || [];

    
    
    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">
  <link rel="stylesheet" href="./static/css/prism.css"/>
  <link rel="stylesheet" href="plugins/line-highlight/prism-line-highlight.css" data-noprefix="">
  <link rel="stylesheet" href="plugins/diff-highlight/prism-diff-highlight.css" data-noprefix="">

  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/custom-class/prism-custom-class.min.js"></script>
   -->

  <script src="./static/js/prism.js"></script>
  <script src="static/js/prism-diff-highlight.js"></script>
  <!-- <script>
    // Prism.plugins.customClass.prefix('prism-');
    Prism.plugins.customClass.map({
    number: 'prism-number',
    token: 'prism-token',
    // tag: 'prism-tag'
  });
  </script> -->


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>
<body>

<!-- <nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://keunhong.com">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://hypernerf.github.io">
            HyperNeRF
          </a>
          <a class="navbar-item" href="https://nerfies.github.io">
            Nerfies
          </a>
          <a class="navbar-item" href="https://latentfusion.github.io">
            LatentFusion
          </a>
          <a class="navbar-item" href="https://photoshape.github.io">
            PhotoShape
          </a>
        </div>
      </div>
    </div>

  </div>
</nav> -->


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title"><br>AutoMix:<br> Automatically Mixing Language Models</h1>
          <!-- <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://madaan.github.io/">Aman Madaan</a><sup>2</sup>,</span>
            <span class="author-block">
              <a href="https://github.com/Pranjal2041">Pranjal Aggarwal</a><sup>1</sup>,</span>
            <span class="author-block">
              <a href="https://www.cs.cmu.edu/~./yiming/">Yiming Yang</a><sup>2</sup>,
            </span>
            <span class="author-block">
              <a href="https://www.cse.iitd.ac.in/~mausam/">Mausam</a><sup>1</sup>,
            </span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>1</sup>Department of Computer Science and Engineering, Indian Institute of Technology Delhi</span>
            <span class="author-block"><sup>2</sup>Language Technologies Institute, School of CS, Carnegie Mellon University</span>
          </div> -->
          <div class="is-size-5 publication-authors"> 
            <span class="author-block"> <a href="https://amanmadaan.github.io/">Aman Madaan</a><sup>♠</sup><sup>*</sup>, </span> 
            <span class="author-block"> <a href="https://pranjal2041.github.io">Pranjal Aggarwal</a><sup>♢</sup><sup>*</sup>, </span> 
            <span class="author-block"> <a href="https://sites.google.com/view/ankitsanand/home">Ankit Anand</a><sup>‡</sup>, </span> 
            <span class="author-block"> <a href="">Srividya Pranavi Potharaju</a><sup>†</sup>, </span> 
            <span class="author-block"> <a href="https://swarooprm.github.io/">Swaroop Mishra</a><sup>‡</sup>, </span> 
            <span class="author-block"> <a href="https://shaoxia57.github.io/">Pei Zhou</a><sup>♣</sup>, </span> 
            <span class="author-block"> <a href="">Aditya Gupta</a>, </span> 
            <span class="author-block"> <a href="">Dheeraj Rajagopal</a><sup>†</sup>, </span> 
            <span class="author-block"> <a href="">Karthik Kappaganthu</a><sup>†</sup>, </span> 
            <span class="author-block"> <a href="https://www.cs.cmu.edu/~./yiming/">Yiming Yang</a><sup>♠</sup>, </span> 
            <span class="author-block"> <a href="http://shyamupa.com/">Shyam Upadhyay</a><sup>†</sup>, </span> 
            <span class="author-block"> <a href="https://www.cse.iitd.ac.in/~mausam/">Mausam</a><sup>♢</sup>, </span> 
            <span class="author-block"> <a href="https://www.manaalfaruqui.com/">Manaal Faruqui</a><sup>†</sup> </span> </div> <div class="is-size-5 publication-authors"> 
              <span class="author-block"><sup>♠</sup>Carnegie Mellon University</span>
            <span class="author-block"><sup>†</sup>Google</span>
            
            <span class="author-block"><sup>‡</sup>Google DeepMind</span>
            <br>
            <span class="author-block"><sup>♢</sup>IIT Delhi</span>
            
            <span class="author-block"><sup>♣</sup>University of Southern California</span>
          </div>
            <!--  <div class="is-size-5 publication-authors"> <a href="mailto:automix-models@googlegroups.com">automix-models@googlegroups.com</a> </div> -->
            <!-- <sup>*</sup>Equal Contribution. Work started and partly done during Aman's internship at Google. -->


          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://arxiv.org/pdf/2310.12963.pdf"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- <span class="link-block">
                <a href="https://huggingface.com/Pranjal2041"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-terminal"></i>
                  </span>
                  <span>Demo</span>
                </a>
              </span> -->

              <!-- Video Link. -->
              <!-- <span class="link-block">
                <a href="https://www.youtube.com/watch?v=MrKrnHhk8IA"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-youtube"></i>
                  </span>
                  <span>Video</span>
                </a>
              </span> -->
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/automix-llm/automix/colabs" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                        <svg class="svg-inline--fa fa-terminal fa-w-20" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="terminal" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"></path></svg><!-- <i class="fas fa-terminal"></i> Font Awesome fontawesome.com -->
                    </span>
                    <span>Colab</span>
                </a>
            </span>

              <span class="link-block">
                <a href="https://github.com/automix-llm/automix"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span>
              <!-- Dataset Link. -->
              <!-- <span class="link-block">
                <a href="https://github.com/automix-llm/automix/tree/main/data"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="far fa-images"></i>
                  </span>
                  <span>Data</span>
                  </a> -->
                <!-- Email Link -->
              <span class="link-block">
                <a href="mailto:automix-models@googlegroups.com"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-envelope"></i>
                  </span>
                  <span>Email</span>
                </a>
              </span>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Discarded Code <Section> -->
<!-- <section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <video id="teaser" autoplay muted loop playsinline height="100%">
        <source src="./static/videos/adaptive_consistency_teaser.mp4"
                type="video/mp4">
      </video>
      <h2 class="subtitle has-text-centered">
        <span class="dnerf">TLDR:</span> a sampling method that matches Self-Consistency in performance with up to 6x fewer samples.
      </h2>
    </div>
  </div>
</section> -->

<h2 class="subtitle has-text-centered">
  <span class="dnerf">TLDR:</span> AutoMix optimizes cost and accuracy by 
  routing queries between small and large language models,<br> through self and meta-verification.
</h2>

<section class="hero teaser">
  <div class="container is-max-desktop">
      <div class="hero-body">
          <!-- <video id="teaser" controls muted playsinline height="100%" poster="static/images/ac_teaser_new.png"> -->
            <!-- Insert GIF here -->
            <!-- <source src="./static/videos/AC_teaser_video.mp4" -->
                    <!-- type="video/mp4"> -->
          <!-- </video>  -->
             
          <figure class="image">
              <img id="animatedGif" src="https://github.com/automix-llm/automix/assets/1304693/3043c5b1-08b0-42dd-9180-ca13f45a83eb">
            </figure>


      </div>

  </div>
</section>
 
<!-- <section class="hero is-light is-small">
  <div class="hero-body">
    <div class="container">
      <div id="results-carousel" class="carousel results-carousel">
        <div class="item item-steve">
          <video poster="" id="steve" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/steve.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-chair-tp">
          <video poster="" id="chair-tp" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/chair-tp.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-shiba">
          <video poster="" id="shiba" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/shiba.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-fullbody">
          <video poster="" id="fullbody" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/fullbody.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-blueshirt">
          <video poster="" id="blueshirt" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/blueshirt.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-mask">
          <video poster="" id="mask" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/mask.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-coffee">
          <video poster="" id="coffee" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/coffee.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-toby">
          <video poster="" id="toby" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/toby2.mp4"
                    type="video/mp4">
          </video>
        </div>
      </div>
    </div>
  </div>
</section> -->


<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified is-size-4">
          <p>
            Large language models (LLMs) are now available in various sizes and configurations from cloud API providers. While this diversity offers a broad spectrum of choices, effectively leveraging the options to optimize computational cost and performance remains challenging. In this work, we present <b>AutoMix</b>, an approach that strategically routes queries to larger LMs, based on the approximate correctness of outputs from a smaller LM. Central to AutoMix is a few-shot <i>self-verification</i> mechanism, which estimates the reliability of its own outputs without requiring training. Given that verifications can be noisy, we employ a <i>meta verifier</i> in AutoMix to refine the accuracy of these assessments. Our experiments using LLAMA2-13/70B, on five context-grounded reasoning datasets demonstrate that AutoMix surpasses established baselines, improving the incremental benefit per cost by up to <i>89%</i>.
          </p>

        </div>
      </div>
    </div>
    <!--/ Abstract. -->

    <!-- Paper video. -->
    <!-- <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Video</h2>
        <div class="publication-video">
          <iframe src="https://www.youtube.com/embed/MrKrnHhk8IA?rel=0&amp;showinfo=0"
                  frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div> -->
    <!--/ Paper video. -->
  </div>
</section>

<section class="section" id="highlights">
  <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
          <div class="column ">
          
            <h2 class="title is-3">Key-Highlights</h2>
            
            <!-- List View using bulma template -->
            <!-- <div class="columns is-centered">
              <div class="column is-four-fifths"> -->
                <div class="content has-text-justified is-size-4">
                  <ul>
                    <li>🔁 <strong>Optimized Model Mixing:</strong> AutoMix optimally combines small and large LLM APIs for cost-effective performance.</li>

                      <li>💡 <strong>Innovative Meta-verifier:</strong> A secondary verifier layer improves noisy few-shot self-verification.</li>

                        <li>📈 <strong>Enhanced Efficiency:</strong> AutoMix improves the incremental benefit per cost by up to 89% over baselines.</li>

                        <li>🔌 <strong>Ready for Deployment:</strong> Applicable out-of-the-box to black-box APIs without access to weights.</li>
                  </ul>
                </div>
              <!-- </div>

            </div> -->
            <!--/ List View using bulma template -->
          </div>
      </div>
  </div>
</section>
<!-- Results Section -->
<section class="section" id="results">
  <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
          <div class="column is-four-fifths">
              <h2 class="title is-3">Results Summary</h2>
              <strong><span class="pal">AutoMix</span> outperforms baselines by wide margins, despite them using domain-specific training and low cost-verifier.</strong>
              <!-- Add vertical space -->
              <br>
              <br>
              <!--row1, colored objects-->
              <figure class="image is-64by64">
                  <img src="static/images/main_results.png">
                  <!-- <strong>Mathematical Reasoning</strong> -->
              </figure>
              <hr>
              <strong><span class="pal">AutoMix</span> provides a controllable and interpretable mechanism to adjust your cost and quality.</strong>
              <!-- Add vertical space -->
              <br>
              <br>
              <!--row2, math reasoning-->
              <figure class="image">
                  <img src="static/images/cost_wise_performance.png">
                  <!-- <strong>Logical Reasoning</strong> -->
              </figure>
              
              <hr>
              <strong><span class="pal">AutoMix's</span> meta-verifier boosts performance even the few-shot verifier performs poorly or not well calibrated.</strong>
              <!-- Add vertical space -->
              <br>
              <br>
              <!--row3, algorithmic reasoning-->
              <figure>
                  <img src="static/images/meta_verifier_performance_better.png">
                  <br>
                  <!-- <strong>Other Reasoning Datasets</strong> -->
              </figure>
          </div>
      </div>
  </div>
</section>

<!-- <pre class="language-diff-python content" tabindex="0"><code class="diff-highlight language-diff-python">
  <span class="tokens coord">@@ -4,6 +4,5 @@</span>
  <span class="prism-token deleted-sign deleted">
    <span class="token prefix deleted">-</span>    let foo = bar.baz([1, 2, 3]);
  <span class="token prefix deleted">-</span>   
   foo = foo + 1;
  </span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span>    const foo = bar.baz([1, 2, 3]) + 1;
  </span><span class="token unchanged"><span class="token prefix unchanged"> </span>    console.log(`foo: ${foo}`);</span></code></pre> -->


<section class="section" id="library">
  <div class="container is-max-desktop">
    <div class="box has-background-light">
      <h2 class="title is-3">Using AutoMix in your code</h2>
      Using AutoMix in your code takes only 3-4 line changes.


      <!-- # Create two nested boxes. -->
      <div class="box has-background-light">
        <!-- <div class="box has-background-light"> -->
          <div class="content has-text-justified is-size-6">
            <p>
              <strong>1. Installing</strong>
            </p>
            <pre class=" language-shell" data-src="static/js/prism-line-highlight.js"><code class=" language-shell language-diff">pip install automix-llm</code></pre>
          </div>
      <!-- </div> -->
    </div>


        <div class="box has-background-light">
          <!-- <div class="box has-background-light"> -->
            <div class="content has-text-justified is-size-6">
              <p>
                <strong>2. Training and Inference</strong>
              </p>
              <pre class=" language-python" data-src="static/js/prism-line-highlight.js"><code class=" language-python">from automix import Automix, POMDP

mixer = Automix(POMDP(*args, **kwargs))
mixer.train(train_data)
restuls = mixer.evaluate(test_data)</code></pre>
            </div>
          </div>

        <!-- </div> -->
        <div class="box has-background-light">
          <!-- <div class="box has-background-light"> -->
            <div class="content has-text-justified is-size-6">
              <p>
                <strong>3. High Customizability</strong>
              </p>
              Check out our <a href="https://github.com/automix-llm/automix">Github repo</a> for more details!
            </div>
        <!-- </div> -->
      
      </div>
  </div>
</section>


<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@misc{madaan2023automix,
      title={AutoMix: Automatically Mixing Language Models}, 
      author={Aman Madaan and Pranjal Aggarwal and Ankit Anand and Srividya Pranavi Potharaju and Swaroop Mishra and Pei Zhou and Aditya Gupta and Dheeraj Rajagopal and Karthik Kappaganthu and Yiming Yang and Shyam Upadhyay and Mausam and Manaal Faruqui},
      year={2023},
      eprint={2310.12963},
      archivePrefix={arXiv},
      primaryClass={cs.CL}
}</code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link"
         href="https://arxiv.org/pdf/2310.12963.pdf">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/automix-llm/automix" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            Template adapted from <a href="http://nerfies.github.io/">Nerfies</a> by Keunhong Park et
            al.
            and uses <a href="https://bulma.io/">Bulma</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
